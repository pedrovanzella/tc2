\chapter{\label{chap:results}Resultados}

Para os cenários de teste definidos na Seção \ref{tab:cenarios} foram realizadas
simulações. Os resultados são apresentados a seguir.

\section{Cenário \textit{Low-rise}}

A Listagem \ref{lst:config:lowrise} exibe um excerto do arquivo de configuração
que define o cenário \textit{Low-rise}. A Tabela \ref{tab:results:lowrise}
mostra os resultados\footnote{Destacados encontram-se os melhores resultados
obtidos para cada métrica.} obtidos após a simulação.

\begin{listing}[htb]
  \centering
    \begin{minted}[linenos,fontsize=\small]{yaml}
  # ...
  - name: Low-rise
    duration: 43200 # unidades de tempo
    scheduler: [ 0, 1 ] # simple, planning
    planningHorizon: 5
    cost_function: [ 0, 1, 2, 3 ] # randon, nn, bnn, weighted
    seed: 54TH7hboAG1iOsDIDhJp
    elevators: 2
    capacity: 2
    floors: [ 60, 520, 360, 360, 360, 240, 240, 240, 90, 90, 90 ]
  # ...
    \end{minted}
  \caption{Configuração do cenário \textit{Low-rise}.}
  \label{lst:config:lowrise}
\end{listing}

\begin{table}[htb!]
\centering
\caption{Resultados para o cenário \textit{Low-rise}.}
\label{tab:results:lowrise}
\begin{tabular}{|l|r|r|r|r|r|r|}
\hline
\multicolumn{1}{|c|}{\textbf{}} & \multicolumn{3}{c|}{\textbf{Tempo de Espera}} & \multicolumn{3}{c|}{\textbf{Tempo de Jornada}} \\ \hline
\textbf{Estratégia} & \multicolumn{1}{c|}{\textit{Médio}} & \multicolumn{1}{c|}{\textit{Desvio}} & \multicolumn{1}{c|}{\textit{Total}} & \multicolumn{1}{c|}{\textit{Médio}} & \multicolumn{1}{c|}{\textit{Desvio}} & \multicolumn{1}{c|}{\textit{Total}} \\ \hline
\textit{Simple / Random}   & 5.4064        & 4.1792        & 16933       & 4.4949        & 2.8676        & 14078        \\ \hline
\textit{Simple / NN}       & 3.5144        & 3.5768        & 11007       & 4.4700        & 2.8565        & 14000        \\ \hline
\textit{Simple / BNN}      & 3.3547        & 3.2931        & 10507       & \green 4.4674 & 2.9163        & \green 13992 \\ \hline
\textit{Simple / Weighted} & 3.7149        & 3.8036        & 11635       & 4.4719        & \green 2.7997 & 14006        \\ \hline
\textit{Planning}          & \green 3.1731 & \green 2.9171 & \green 9938 & 4.4770        & 3.0009        & 14022        \\ \hline
\end{tabular}
\end{table}

\section{Cenário \textit{High-rise}}
A Listagem \ref{lst:config:highrise} exibe um excerto do arquivo de configuração
que define o cenário \textit{High-rise}. A Tabela \ref{tab:results:highrise}
mostra os resultados\footnote{Destacados encontram-se os melhores resultados
obtidos para cada métrica.} obtidos após a simulação.

\begin{listing}[htb]
  \centering
    \begin{minted}[linenos,fontsize=\small]{yaml}
  # ...
  - name: High-rise
    duration: 43200 # unidades de tempo
    scheduler: [ 0, 1 ]
    planningHorizon: 2
    cost_function: [ 0, 1, 2, 3 ]
    seed: w9JwgykwejtoL2icSgHo
    elevators: 8
    capacity: 10
    floors: [ 60, 520, 520, 520, 360, 360, 360, 360, 360, 360, 360, 360, 360,
             360, 360, 360, 360, 360, 360, 360, 360, 360, 360, 360, 360, 360,
             360, 360, 240, 240, 240, 240, 240, 240,  90,  90,  90,  90,  90 ]
  # ...
    \end{minted}
  \caption{Configuração do cenário \textit{High-rise}.}
  \label{lst:config:highrise}
\end{listing}

\begin{table}[htb!]
\centering
\caption{Resultados para o cenário \textit{High-rise}.}
\label{tab:results:highrise}
\begin{tabular}{|l|r|r|r|r|r|r|}
\hline
\multicolumn{1}{|c|}{\textbf{}} & \multicolumn{3}{c|}{\textbf{Tempo de Espera}} & \multicolumn{3}{c|}{\textbf{Tempo de Jornada}} \\ \hline
\textbf{Estratégia} & \multicolumn{1}{c|}{\textit{Médio}} & \multicolumn{1}{c|}{\textit{Desvio}} & \multicolumn{1}{c|}{\textit{Total}} & \multicolumn{1}{c|}{\textit{Médio}} & \multicolumn{1}{c|}{\textit{Desvio}} & \multicolumn{1}{c|}{\textit{Total}} \\ \hline
\textit{Simple / Random}   & 25.9981       & 28.0464        & 190124        & 15.2595        & 14.9190        & 111593        \\ \hline
\textit{Simple / NN}       & 20.3395       & 37.1902        & 148743        & 15.0993        & 11.4479        & 110421        \\ \hline
\textit{Simple / BNN}      & 13.5243       & 23.5950        &  98903        & 15.0550        & \green 10.2476 & 110097        \\ \hline
\textit{Simple / Weighted} & 31.0373       & 54.5909        & 226976        & \green 14.9915 & 18.9700        & \green 109633 \\ \hline
\textit{Planning}          & \green 8.6901 & \green 16.2139 &  \green 63551 & 15.1627        & 12.0920        & 110885        \\ \hline
\end{tabular}
\end{table}

\section{Cenário \textit{Skyscraper}}
A Listagem \ref{lst:config:skyscraper} exibe um excerto do arquivo de
configuração que define o cenário \textit{Skyscraper}. A Tabela
\ref{tab:results:skyscraper} mostra os resultados\footnote{Destacados encontram-
se os melhores resultados obtidos para cada métrica.} obtidos após a simulação.

\begin{listing}[htb]
  \centering
    \begin{minted}[linenos,fontsize=\small]{yaml}
  # ...
  - name: Skyscraper
    duration: 43200 # unidades de tempo
    scheduler: [ 0, 1 ]
    planningHorizon: 2
    cost_function: [ 0, 1, 2, 3 ]
    seed: NimatYvEnU9QeE3GkF4J
    elevators: 16
    capacity: 12
    floors: [ 150, 300, 450, 600, 150, 300, 450, 600, 150, 300, 450, 450, 150,
              300, 450, 600, 150, 300, 450, 600, 150, 300, 450, 450, 150, 300,
              450, 600, 150, 300, 450, 600, 150, 300, 450, 450, 300, 450, 450,
              450, 150, 300, 450, 600, 150, 300, 450, 600, 150, 300, 450, 450,
              150, 300, 450, 600, 150, 300, 450, 600, 150, 300, 450, 450, 150,
              300, 450, 600, 150, 300, 450, 600, 150, 300, 450, 450, 300, 450,
              450, 450, 150, 300, 450, 600, 150, 300, 450, 600, 150, 300, 450,
              450, 150, 300, 450, 600, 150, 300, 450, 600, 150, 300, 450, 450,
              150, 300, 450, 600, 150, 300, 450, 600, 150, 300, 450, 450, 300,
              450, 450, 450, 150, 300, 450, 600, 150, 300, 450, 600, 150, 300,
              450, 450, 150, 300, 450, 600, 150, 300, 450, 600, 150, 300, 450,
              450, 150, 300, 450, 600, 150, 300, 450, 600, 150, 300, 450, 450,
              300, 450, 450, 450, 450, 450, 450 ]
  # ...
    \end{minted}
  \caption{Configuração do cenário \textit{Skyscraper}.}
  \label{lst:config:skyscraper}
\end{listing}

\begin{table}[htb!]
\centering
\caption{Resultados para o cenário \textit{Skyscraper}.}
\label{tab:results:skyscraper}
\begin{tabular}{|l|r|r|r|r|r|r|}
\hline
\multicolumn{1}{|c|}{\textbf{}} & \multicolumn{3}{c|}{\textbf{Tempo de Espera}} & \multicolumn{3}{c|}{\textbf{Tempo de Jornada}} \\ \hline
\textbf{Estratégia} & \multicolumn{1}{c|}{\textit{Médio}} & \multicolumn{1}{c|}{\textit{Desvio}} & \multicolumn{1}{c|}{\textit{Total}} & \multicolumn{1}{c|}{\textit{Médio}} & \multicolumn{1}{c|}{\textit{Desvio}} & \multicolumn{1}{c|}{\textit{Total}} \\ \hline
\textit{Simple / Random}   & 442.2165       & 1775.3156       & 10538904       & 54.7816        & 389.3520       & 1305554        \\ \hline
\textit{Simple / NN}       & 343.5988       & 1426.3821       &  8188647       & 54.9789        & 291.2258       & 1310258        \\ \hline
\textit{Simple / BNN}      & 287.1803       & 1137.2342       &  6844080       & 55.0124        & 235.4007       & 1311056        \\ \hline
\textit{Simple / Weighted} & 293.8791       & 1018.5118       &  7003726       & \green 54.6163 & 242.3278       & \green 1301616 \\ \hline
\textit{Planning}          & \green 78.3855 & \green 230.8554 & \green 1868084 & 60.1728        & \green 48.8070 & 1434038        \\ \hline
\end{tabular}
\end{table}

\section{Clientes Transportados}

\unsure{Seção pendente.}
\lipsum[5]

\begin{table}[htb]
\centering
\caption{Clientes transportados.}
\label{table:results:clients}
\begin{tabular}{|l|c|c|c|c|c|c|}
\hline
\textbf{}                  & \multicolumn{2}{c|}{\textbf{Low-rise}} & \multicolumn{2}{c|}{\textbf{High-rise}} & \multicolumn{2}{c|}{\textbf{Skyscraper}} \\ \hline
\textbf{Estratégia}        & \textit{Atendidos}  & \textit{Duração} & \textit{Transportados}  & \textit{Duração}  & \textit{Atendidos}   & \textit{Duração}  \\ \hline
\textit{Simple / Random}   & 3132                & 43200            & 7313                & 43275             & 23832                & 45037             \\ \hline
\textit{Simple / NN}       & 3132                & 43200            & 7313                & 43334             & 23832                & 45388             \\ \hline
\textit{Simple / BNN}      & 3132                & 43200            & 7313                & 43349             & 23832                & 45131             \\ \hline
\textit{Simple / Weighted} & 3132                & 43200            & 7313                & 43372             & 23832                & 44584             \\ \hline
\textit{Planning}          & 3132                & 43200            & 7313                & 43341             & 23832                & 43688             \\ \hline
\end{tabular}
\end{table}

\section{Tempo de Decisão do \textit{Planning}}

A Tabela~\ref{table:results:time} contém estatísticas do tempo de execução do
algoritmo, i.e. o tempo necessário para tomar a decisão de qual elevador deve
atender um cliente. Esta estatística é importante pois fornece uma medida do
impacto pela aplicação da solução em um sistema real: o agendamento seria
executado a cada vez que um botão de chamada é pressionado em todo o prédio.

\begin{table}[htb]
\centering
\caption{Tempo de decisão do \textit{planning}.}
\label{table:results:time}
\begin{tabular}{|c|c|c|c|}
\hline
                 & \textbf{Low-rise} & \textbf{High-rise} & \textbf{Skyscraper} \\ \hline
\textit{Mínimo}  & 0.2220 ms         & 0.002097 s         & 0.03882 s           \\ \hline
\textit{Mediana} & 0.2900 ms         & 0.031623 s         & 2.35068 s           \\ \hline
\textit{Média}   & 0.4137 ms         & 0.043263 s         & 2.12851 s           \\ \hline
\textit{Máximo}  & 3.6810 ms         & 0.358810 s         & 4.99215 s           \\ \hline
\end{tabular}
\end{table}

Observa-se que o tempo é muito reduzido para os cenários \textit{Low-rise} e
\textit{High-rise}, causando quase nenhum impacto. Já para o cenário
\textit{Skyscraper} os números parecem ruins a primeira vista. Porém, ao
considerar os resultados para tempo de espera, um tempo médio de 2.13 segundos e
um máximo de 4.99 segundos não causam prejuízo significativo. Por estas razões,
o desempenho do \textit{planning} foi considerado plenamente satisfatório.

\section{Gráficos}

\begin{figure}[htb]
  \centering
  \includegraphics[scale=0.8]{img/skyscraper-average-times-chart}
  \caption[{Tempo médio de espera no cenário \textit{Skyscraper}.}]{Tempo médio de espera para diferentes estratégias no cenário \textit{Skyscraper}.}
  \label{fig:result:average:skyscraper}
\end{figure}

\begin{figure}[htb]
  \centering
  \includegraphics[scale=0.8]{img/low-rise-average-times-chart}
  \caption[Tempo médio de espera no cenário \textit{Low-rise}.]{Tempo médio de espera para diferentes estratégias no cenário \textit{Low-rise}.}
  \label{fig:result:average:low-rise}
\end{figure}

\begin{figure}[htb]
  \centering
  \includegraphics[scale=0.8]{img/high-rise-average-times-chart}
  \caption[Tempo médio de espera no cenário \textit{High-rise}.]{Tempo médio de espera para diferentes estratégias no cenário \textit{High-rise}.}
  \label{fig:result:average:high-rise}
\end{figure}